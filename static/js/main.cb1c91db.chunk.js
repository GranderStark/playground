(this["webpackJsonp@open-rpc/playground"]=this["webpackJsonp@open-rpc/playground"]||[]).push([[1],{583:function(e,t,a){e.exports=a(915)},588:function(e,t,a){},749:function(e,t,a){},788:function(e,t){},796:function(e,t){},798:function(e,t){},915:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(64),c=a.n(o),i=(a(588),a(111)),s=a(52),l=a(16),p=Object(l.a)(e=>({list:{color:e.palette.secondary.main,height:"100%",listStyle:"none",overflow:"scroll"},wrapper:{maxHeight:"200px"}}))(e=>{var t=e.classes,a=e.markers;return a&&0!==a.length?n.a.createElement("div",{className:t.wrapper},n.a.createElement("ul",{className:t.list},a&&a.map(e=>n.a.createElement("li",{key:e.message},e.startLineNumber,":",e.startColumn," - ",e.message)))):null}),m=a(81),u=a(559),d=(a(749),a(950)),h=a(958),g=a(503),b=a(490),f=a(962),E=a(416),j=a(959),O=a(925),v=a(562),y=a.n(v),x=a(407),S=a.n(x),k=a(406),w=a.n(k),C=a(563),M=a.n(C),B=a(954),D=Object(l.a)(e=>({title:{marginLeft:e.spacing(2)},appBar:{}}))(e=>{var t=e.uiSchema,a=e.searchBarUrl,r=e.onChangeUrl;return n.a.createElement(B.a,{value:a,placeholder:t&&t.appBar["ui:inputPlaceholder"],style:{width:"100%"},onChange:e=>{r(e.target.value)}})}),N=a(491),T=a(560),I=a(955),P=a(405),z=a.n(P),K=({examples:e,onChange:t})=>{var a=r.useState(null),n=Object(s.a)(a,2),o=n[0],c=n[1];return e?r.createElement(r.Fragment,null,r.createElement(j.a,{title:"Example OpenRPC Documents"},r.createElement(N.a,{onClick:e=>{c(e.currentTarget)},variant:"outlined",endIcon:r.createElement(z.a,null),style:{height:"38px",fontSize:"11px",marginLeft:"10px"}},"examples")),r.createElement(T.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:()=>{c(null)}},r.createElement("div",{style:{maxWidth:"525px"}},e.map(e=>r.createElement(I.a,{onClick:a=>(e=>{c(null),t&&t(e)})(e)},r.createElement(g.a,{container:!0,spacing:0},r.createElement(g.a,{item:!0,xs:12},r.createElement(b.a,{variant:"subtitle1"},e.name)),r.createElement(g.a,{item:!0,xs:12},r.createElement(b.a,{variant:"caption",style:{fontSize:"9px"}},e.url)))))))):null};class U extends r.Component{render(){var e=this.props,t=e.uiSchema,a=e.classes,r=e.onSplitViewChange,o=e.onDarkModeChange,c=e.examples,i=e.onExampleDocumentsDropdownChange;return n.a.createElement(d.a,{position:"fixed",color:"default",elevation:0,className:a.appBar},n.a.createElement(h.a,null,n.a.createElement(g.a,{alignItems:"center",container:!0},n.a.createElement(g.a,{item:!0,xs:6,sm:6,md:3,direction:"row",container:!0},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:logoUrl"]&&n.a.createElement(g.a,null,n.a.createElement("img",{alt:"playground-title",height:"30",src:this.props.uiSchema.appBar["ui:logoUrl"]})),n.a.createElement(g.a,{style:{overflow:"hidden"}},n.a.createElement(b.a,{className:a.title,variant:"h6"},t&&t.appBar["ui:title"]))),n.a.createElement(f.a,{smDown:!0},n.a.createElement(g.a,{item:!0,container:!0,justify:"center",alignItems:"center",sm:6},n.a.createElement(g.a,{item:!0,sm:9},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:input"]&&n.a.createElement(E.a,{style:{background:"rgba(0, 0, 0, 0.1)",padding:"0px 10px 0px 10px",width:"100%"},elevation:0},n.a.createElement(D,{searchBarUrl:this.props.searchBarUrl,onChangeUrl:this.props.onChangeUrl,uiSchema:t}))),this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:examplesDropdown"]&&n.a.createElement(K,{examples:c,onChange:i}))),n.a.createElement(g.a,{item:!0,xs:6,sm:6,md:3,container:!0,justify:"flex-end",alignItems:"center"},t&&t.appBar["ui:splitView"]?n.a.createElement(j.a,{title:"Full Screen"},n.a.createElement(O.a,{onClick:()=>{r&&r(!1)}},n.a.createElement(y.a,null))):n.a.createElement(j.a,{title:"Edit"},n.a.createElement(O.a,{onClick:()=>{r&&r(!0)}},n.a.createElement(M.a,null))),n.a.createElement(j.a,{title:"Toggle Dark Theme"},n.a.createElement(O.a,null,t&&t.appBar["ui:darkMode"]?n.a.createElement(w.a,{onClick:()=>o(!1)}):n.a.createElement(S.a,{onClick:()=>o(!0)})))))))}}var V,L=Object(l.a)(e=>({title:{marginLeft:e.spacing(2)},appBar:{}}))(U),R=a(574),F=a(935),J=a(956),A=a(414),Y=a.n(A),H=a(130),W=a.n(H),_=a(564),q=a.n(_),G=a(408),$=a.n(G),Q=a(566),X=a.n(Q),Z=a(415),ee=a.n(Z),te=a(565),ae=a.n(te),re=a(567),ne=a.n(re),oe=a(568),ce=a.n(oe),ie={success:q.a,warning:ae.a,error:X.a,info:ee.a,debug:ee.a};!function(e){e.error="error",e.warn="warning",e.info="info",e.success="success",e.debug="debug"}(V||(V={}));class se extends n.a.Component{render(){var e=this.props,t=e.classes,a=e.className,r=e.message,o=e.onClose,c=e.variant,i=Object(R.a)(e,["classes","className","message","onClose","variant"]),s=ie[c];return n.a.createElement(F.a,Object.assign({className:Y()(t[c],a),"aria-describedby":"client-snackbar",message:n.a.createElement("span",{id:"client-snackbar",className:t.message},n.a.createElement(s,{className:Y()(t.icon,t.iconVariant)}),r),action:[n.a.createElement(O.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},n.a.createElement($.a,{className:t.icon}))]},i))}}var le=Object(l.a)(e=>({success:{color:ne.a[600]},error:{backgroundColor:e.palette.error.dark},info:{color:e.palette.primary.dark},debug:{color:e.palette.secondary.dark},warning:{color:ce.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(2)},message:{display:"flex",alignItems:"center"},close:{padding:e.spacing(1)},margin:{margin:e.spacing(2)}}))(se);class pe extends r.Component{render(){var e=this.props,t=e.classes,a=e.notification,r=e.close;return Object(H.isEmpty)(a)?null:n.a.createElement(J.a,{open:!0,autoHideDuration:1e4,anchorOrigin:{vertical:"bottom",horizontal:"left"}},n.a.createElement(le,{onClose:r,variant:a.type,message:n.a.createElement("span",null,a.message),className:t.margin}))}}var me=Object(l.a)(e=>({title:{marginLeft:e.spacing(2)},close:{padding:e.spacing(1)},margin:{margin:e.spacing(2)}}))(pe),ue=a(949),de=a(303),he=a(329),ge=a.n(he),be=Object(de.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},overrides:{MuiPaper:{root:{zIndex:1,opacity:1}},MuiToolbar:{root:{background:"transparent !important"}},MuiAppBar:{root:{backgroundColor:"transparent !important"},colorDefault:{background:"transparent !important"},colorPrimary:{background:"transparent !important"}}},palette:{background:{default:"#fff"}}}),fe=Object(de.a)({props:{MuiAppBar:{position:"sticky"}},palette:{type:"dark",background:{default:ge.a[900],paper:ge.a[900]}},overrides:{MuiPaper:{root:{zIndex:1,opacity:1}},MuiAppBar:{root:{background:"transparent !important"},colorPrimary:{background:"transparent !important"}},MuiToolbar:{root:{background:"transparent !important"}},MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:ge.a[400]}}}}),Ee=a(410),je=a.n(Ee),Oe=a(573),ve=a.n(Oe),ye=a(953),xe=a(952),Se=a(960),ke=a(957),we=a(413),Ce=e=>{if(!1===e.split&&e.onlyRenderSplit)return n.a.createElement("div",{key:2,style:e.splitLeft?e.leftStyle:e.rightStyle},e.splitLeft?e.left:e.right);var t=e.direction||"vertical",a=e.split?"horizontal"===t?.35*window.innerHeight:window.innerWidth/2:"horizontal"===t?window.innerHeight:window.innerWidth;return n.a.createElement(we.default,{split:t,style:e.style,className:"playground-splitview",minSize:100,maxSize:0,defaultSize:a,size:a,onChange:t=>{e.onChange&&e.onChange(t)}},n.a.createElement("div",{style:e.leftStyle?Object(i.a)(Object(i.a)({},e.leftStyle),{display:"flex",flexDirection:"column",height:"100%"}):{display:"flex",flexDirection:"column",height:"100%"},key:1},e.left),n.a.createElement("div",{key:2,style:e.rightStyle},e.right))},Me=a(569),Be=a.n(Me),De=e=>{var t=Object(r.useState)(),a=Object(s.a)(t,2),n=a[0],o=a[1],c=e=>{var t;try{t=JSON.parse(e)}catch(a){}t&&Be.a.dereference(t).then(t=>{o(t),W.a.defer(()=>window.localStorage.setItem("schema",e))})};return Object(r.useEffect)(()=>{e&&c(e)},[]),[n,c]};var Ne=function(){var e=Object(r.useState)(()=>window.localStorage.getItem("schema")),t=Object(s.a)(e,2);return[t[0],t[1]]},Te=a(165),Ie=a(251),Pe=a.n(Ie),ze=a(327),Ke=function(){var e=Object(ze.a)(Pe.a.mark((function e(t){var a;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(404!==(a=e.sent).status){e.next=5;break}throw new Error("404: Not Found");case 5:return e.abrupt("return",a.text());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=0,Ve=function(){var e=Object(ze.a)(Pe.a.mark((function e(t){var a,r;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{body:JSON.stringify({id:Ue++,jsonrpc:"2.0",method:"rpc.discover",params:[]}),headers:{"Content-Type":"application/json"},method:"POST"});case 2:if(404!==(a=e.sent).status){e.next=5;break}throw new Error("404: Not Found");case 5:return e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",JSON.stringify(r.result,null,2));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=e=>{var t=Object(r.useState)(e),a=Object(s.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(),i=Object(s.a)(c,2),l=i[0],p=i[1],m=Object(r.useState)(),u=Object(s.a)(m,2),d=u[0],h=u[1];return Object(r.useEffect)(()=>{n&&(Object(H.isEmpty)(n)||(n.match(/\.json$/)?Ke(n).then(p).catch(e=>{var t="Error fetching schema for: ".concat(n);console.error(t,e),h(t)}):Ve(n).then(p).catch(e=>{var t="Error fetching rpc.discover for: ".concat(n);console.error(t,e),h(t)})))},[n]),[n,{results:l,error:d},o]},Re=a(570),Fe=()=>{var e=Object(r.useState)(Re.parse(window.location.search,{ignoreQueryPrefix:!0,depth:100,decoder:e=>/^(\d+|\d*\.\d+)$/.test(e)?parseFloat(e):"false"!==e&&("true"===e||decodeURIComponent(e))}));return[Object(s.a)(e,1)[0]]},Je=Object(Te.createStore)(()=>Fe()),Ae=Object(Te.createStore)(()=>{var e=Je(),t=Object(s.a)(e,1)[0];return Le(t.schemaUrl||t.url)}),Ye=Object(Te.createStore)(()=>{var e=Object(r.useState)(),t=Object(s.a)(e,2);return[t[0],t[1]]}),He=e=>{var t,a,r=Ae(),o=Object(s.a)(r,1)[0],c=Ye(),i=Object(s.a)(c,2)[1],l=e.openrpcMethodObject,p=[];if(l&&l.examples&&l.examples[0]){t=l.examples[0];var m=l.paramStructure||"either";a="by-name"===m?t.params.reduce((e,t)=>(e[t.name]=t.value,e),{}):t.params.map(e=>e.value)}return l&&"by-name"===l.paramStructure&&(p={}),n.a.createElement(j.a,{title:"Open in Inspector"},n.a.createElement(N.a,{variant:"contained",onClick:()=>i({url:o,openrpcMethodObject:e.openrpcMethodObject,request:{jsonrpc:"2.0",method:l.name,params:a||p,id:0}})},n.a.createElement("span",{role:"img","aria-label":"try-it-inspector"},"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f"),"\ufe0f\ufe0f Try It Now"))},We=e=>{var t=Object(r.useState)(e),a=Object(s.a)(t,2),n=a[0],o=a[1];return[n,({section:e,key:t,value:a})=>{o(Object(i.a)(Object(i.a)({},n),{},{[e]:Object(i.a)(Object(i.a)({},n.appBar),{},{[t]:a})}))}]},_e=Object(Te.createStore)(()=>{var e,t,a=Je(),r=Object(s.a)(a,1)[0];return We((e={appBar:{"ui:input":!0,"ui:inputPlaceholder":"Enter OpenRPC Document Url or rpc.discover Endpoint","ui:logoUrl":"https://github.com/open-rpc/design/raw/master/icons/open-rpc-logo-noText/open-rpc-logo-noText%20(PNG)/128x128.png","ui:splitView":!0,"ui:darkMode":!1,"ui:title":"Playground","ui:examplesDropdown":!0},methods:{"ui:defaultExpanded":!1,"ui:methodPlugins":!0},params:{"ui:defaultExpanded":!1}},t=r.uiSchema,e&&t?{appBar:Object(i.a)(Object(i.a)({},e.appBar),t.appBar||{}),methods:Object(i.a)(Object(i.a)({},e.methods),t.methods||{}),params:Object(i.a)(Object(i.a)({},e.params),t.params||{})}:e||t))}),qe=[{name:"api-with-examples",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/api-with-examples-openrpc.json"},{name:"link-example",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/link-example-openrpc.json"},{name:"params-by-name-petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/params-by-name-petstore-openrpc.json"},{name:"petstore-expanded",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-expanded-openrpc.json"},{name:"petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-openrpc.json"},{name:"simple-math",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/simple-math-openrpc.json"},{name:"empty-document",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/empty-openrpc.json"}],Ge=a(267),$e=a.n(Ge),Qe=a(409),Xe=a.n(Qe),Ze=a(302),et=a(271),tt=a.n(et),at=e=>{var t,a=Object(r.useRef)(),o=Xe()();Object(r.useEffect)(()=>{void 0!==a&&void 0!==a.current&&a.current.layout()},[o]),Object(r.useEffect)(()=>function(){t&&t.dispose()},[]);return n.a.createElement($e.a,{height:"100%",editorOptions:{useShadows:!1,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on"},value:e.value,editorDidMount:function(r,n){a.current=n;var o=m.Uri.parse("inmemory://openrpc-playground.json");t=m.editor.createModel(e.value||"","json",o),n.setModel(t),Object(Ze.addDiagnostics)(o.toString(),tt.a,m),e.editorDidMount&&e.editorDidMount(W.a,n),e.onMarkerChange&&n.onDidChangeModelDecorations(W.a.debounce(()=>{if(e.onMarkerChange){var t=m.editor.getModelMarkers({resource:o});e.onMarkerChange(t)}},300))},language:"json",onChange:(t,a)=>{e.onChange&&e.onChange(a)}})},rt=e=>{var t=Object(r.useState)(tt.a),a=Object(s.a)(t,2),n=a[0],o=a[1];return Object(r.useEffect)(()=>{e&&e.addAction({id:"replace-meta-schema",label:"Replace Meta Schema",keybindings:[m.KeyMod.chord(m.KeyMod.CtrlCmd|m.KeyCode.KEY_K,m.KeyMod.CtrlCmd|m.KeyCode.KEY_R)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:()=>{var e=window.prompt("Paste schema to replace current meta schema","{}");e&&o(JSON.parse(e))}})},[e]),[n]},nt=a(539).initVimMode,ot=e=>{var t=Object(r.useState)(),a=Object(s.a)(t,2),n=a[0],o=a[1];return Object(r.useEffect)(()=>{if(e)return e.addAction({id:"vim-mode",label:"Vim Mode",keybindings:[m.KeyMod.chord(m.KeyMod.CtrlCmd|m.KeyCode.KEY_K,m.KeyMod.CtrlCmd|m.KeyCode.KEY_V)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:()=>{n&&n.dispose(),o(nt(e))}}),()=>{n&&n.dispose()}},[e]),[e,n]},ct=a(571),it=a.n(ct),st=()=>{var e=Ne(),t=Object(s.a)(e,1)[0],a=Object(r.useState)([]),o=Object(s.a)(a,2),c=o[0],l=o[1],d=Ae(),h=Object(s.a)(d,3),g=h[0],f=h[1],E=f.results,v=f.error,y=h[2],x=Object(r.useState)(),S=Object(s.a)(x,2),k=S[0],w=S[1],C=_e(),M=Object(s.a)(C,2),B=M[0],D=M[1],N=Object(r.useState)(),T=Object(s.a)(N,2),I=T[0],P=T[1],z=Object(r.useState)(!1),K=Object(s.a)(z,2),U=K[0],R=K[1],F=De(t?JSON.parse(t):null),J=Object(s.a)(F,2),A=J[0],Y=J[1],H=e=>{I&&setTimeout(()=>{I.layout()},0),R(e)},W=Ye(),_=Object(s.a)(W,1)[0];rt(I),ot(I);Object(r.useEffect)(()=>{m.editor.setTheme(B.appBar["ui:darkMode"]?"vs-dark":"vs")},[]),Object(r.useEffect)(()=>{var e=qe.find(e=>"petstore"===e.name);t||g||!e||y(e.url)},[t]),Object(r.useEffect)(()=>{Q(Object(i.a)(Object(i.a)({},$),{},{theme:B.appBar["ui:darkMode"]?"summerfruit":"summerfruit:inverted"}))},[B.appBar["ui:darkMode"]]),Object(r.useEffect)(()=>{E&&I&&I.setValue(E),E&&Y(E)},[E]),Object(r.useEffect)(()=>{v&&w({type:V.error,message:v})},[v]),Object(r.useEffect)(()=>{Y(t||"")},[t]);var q=Object(r.useState)({theme:"summerfruit:inverted",collapseStringsAfterLength:25,displayDataTypes:!1,displayObjectSize:!1,indentWidth:2,name:!1}),G=Object(s.a)(q,2),$=G[0],Q=G[1],X=B.appBar["ui:darkMode"]?fe:be;return Object(r.useEffect)(()=>{_&&H(!0)},[_]),n.a.createElement(ue.a,{theme:X},n.a.createElement(ye.a,null),n.a.createElement(L,{searchBarUrl:g,uiSchema:B,examples:qe,onExampleDocumentsDropdownChange:e=>y(e.url),onSplitViewChange:e=>{D({value:e,key:"ui:splitView",section:"appBar"})},onDarkModeChange:e=>{m.editor.setTheme(e?"vs-dark":"vs"),D({value:e,key:"ui:darkMode",section:"appBar"})},onChangeUrl:y}),n.a.createElement(Ce,{direction:"horizontal",splitLeft:!0,split:U,leftStyle:{width:"100%",height:"100%"},right:n.a.createElement(n.a.Fragment,null,n.a.createElement(it.a,{hideToggleTheme:!0,url:g&&g.includes(".json")?null:g,request:_&&_.request,openrpcDocument:A})),onChange:()=>I&&I.layout(),left:n.a.createElement(Ce,{onlyRenderSplit:!0,split:B.appBar["ui:splitView"],leftStyle:{paddingTop:"58px",height:"94%",width:"100%"},rightStyle:{height:"94%",width:"100%",overflowY:"auto",marginTop:"58px",paddingBottom:"58px"},onChange:()=>I&&I.layout(),left:n.a.createElement(n.a.Fragment,null,n.a.createElement(p,{markers:c}),n.a.createElement(at,{editorDidMount:(e,t)=>{P(t)},onMarkerChange:e=>{l(e)},onChange:e=>{Y(e)},value:t||""})),right:n.a.createElement(n.a.Fragment,null,n.a.createElement(xe.a,null,n.a.createElement(u.Documentation,{schema:A,uiSchema:B,reactJsonOptions:$,methodPlugins:B.methods["ui:methodPlugins"]?[He]:void 0})),n.a.createElement(Se.a,{variant:"scrollable",indicatorColor:"primary",value:0,style:{position:"absolute",bottom:"0",right:"25px",zIndex:1,marginBottom:"0px"}},n.a.createElement(ke.a,{onClick:()=>H(!U),style:{background:X.palette.background.default,width:"165px",paddingRight:"30px",border:"1px solid ".concat(X.palette.text.hint)},label:n.a.createElement("div",null,n.a.createElement(b.a,{variant:"body1"},n.a.createElement("span",{role:"img","aria-label":"inspector"},"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f"),"\ufe0f Inspector"),n.a.createElement(j.a,{title:"Toggle Inspector"},n.a.createElement(O.a,{style:{position:"absolute",right:"5px",top:"20%"},size:"small"},U?n.a.createElement(je.a,null):n.a.createElement(ve.a,null))))})))})}),n.a.createElement(me,{close:()=>w({}),notification:k}))};c.a.render(n.a.createElement(Te.ReusableProvider,null,n.a.createElement(st,null)),document.getElementById("root"))}},[[583,2,3]]]);
//# sourceMappingURL=main.cb1c91db.chunk.js.map